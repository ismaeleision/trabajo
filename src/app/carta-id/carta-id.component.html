<div class="container mt-5">

  <div class="row">
    <h2 class="text-danger bg-light text-center p-3 ms-2 border border-danger border-3 fw-bold">{{Carta.name}}</h2>
  </div>

  <!--Imagen Carta-->
  <div class="row mt-5">
    <div class="col-2" style="width:18rem;">
      <img *ngIf="Carta.image_uris" src="{{Carta.image_uris.normal}}" class="card-img-top">
    </div>
    <!--Nombre Carta-->
    <div class="col-8 mt-2 ">
      <div class="row my-3">

        <!--Precios-->
        <div class="col  shadow bg-body rounded text-center border border-danger border-3 h-75">
          <p class="pt-3 fw-bold text-danger">Precios</p>
          <p *ngIf="Carta.prices.eur; else precio">
            {{Carta.prices.eur}}€
          </p>
          <p *ngIf="Carta.prices.eur_foil; else precio">
            Foil {{Carta.prices.eur_foil}}€
          </p>
          <p *ngIf="Carta.prices.eur_foil; else precio">
            USD {{Carta.prices.usd}}$
          </p>
          <p *ngIf="Carta.prices.eur_foil; else precio">
            USD Foil {{Carta.prices.usd_foil}}$
          </p>
        </div>

        <!--Texto Carta-->
        <div class="col-8">
          <div class="card-text shadow bg-body rounded text-center p-3 border border-danger border-3">
            {{Carta.oracle_text}}
          </div>
        </div>

      </div>
    </div>
  </div>

  <!--Botones-->
  <div class="row m-3">
    <!--Formato jugable-->
    <div class="col me-1 btn btn-dark dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown"
      aria-expanded="false">
      FORMATOS
    </div>
    <div class="col-2 dropdown-menu text-center fw-bold" aria-labelledby="dropdownMenuButton1">
      <ul class="list-group">
        <li class="list-group-item">Standard ({{Carta.legalities.standard}})</li>
        <li class="list-group-item">Historic ({{Carta.legalities.historic}})</li>
        <li class="list-group-item">Pioneer ({{Carta.legalities.pioneer}})</li>
        <li class="list-group-item">Modern ({{Carta.legalities.modern}})</li>
        <li class="list-group-item">Legacy ({{Carta.legalities.legacy}})</li>
        <li class="list-group-item">Pauper ({{Carta.legalities.pauper}})</li>
        <li class="list-group-item">Vintage ({{Carta.legalities.vintage}})</li>
        <li class="list-group-item">Commander ({{Carta.legalities.commander}})</li>
      </ul>
    </div>

    <div class="col mx-2 text-center btn btn-dark btn-outline-light border-4 " routerLink="/set/{{Carta.set}}">
      {{Carta.set_name}}
    </div>
    <div class="col mx-2 text-center btn btn-dark btn-outline-light border-4" data-bs-toggle="modal" data-bs-target="#CrearMazo">
      AÑADIR
    </div>
    <div class="col mx-2 text-center btn btn-dark btn-outline-light border-4" (click)="comprar()">
      COMPRAR
    </div>
    <div class="col mx-2 text-center btn btn-dark btn-outline-light border-4" (click)="volver()">
      VOLVER
    </div>
  </div>

  <!--Si el precio es nulo pone un N/A en su lugar-->
  <ng-template #precio>
    <p #precio>Sin registro</p>
  </ng-template>


  <!-- Modal -->
  <div class="modal fade" id="CrearMazo" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Rellena los campos</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form>
            <select class="form-select" aria-label="Elije Mazo">
              <option *ngFor="let mazo of this.sesion.retrieve('mazos');" (click)="anadir(mazo.id)">{{mazo.nombre}}</option>
            </select>
          </form>
        </div>
      </div>
    </div>
  </div>